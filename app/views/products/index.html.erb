<div class="products_container">
  <%= link_to 'Add New Product', '', data: {
    controller: 'product-form',
    action: 'product-form#toggle' }, class: green_btn %>
  <div>
    <%= render 'products/form', product: @product %>
  </div>
  <div>
    <div class="filter__container" style="width: 18rem;">
      <%= form_tag(products_path, method: :get, class: 'search__bar row g-3') do %>
        <div class="col-auto">
          <%= text_field_tag(:search, params[:search], placeholder: 'Search by Name or Description', class: 'form-control') %>
        </div>
        <%= select_tag :categories, options_from_collection_for_select(Category.all, 'id', 'name'),
                       { include_blank: 'Select a category', class: 'form-select', multiple: true,
                         id: 'validationTagsThreshold', data: { controller: 'tag-select', allow_clear: true, suggestions_threshold: 0 }
                       } %>
        <div class="col-auto">
          <%= submit_tag("Search", class: blue_btn, method: :get) %>
        </div>
      <% end %>

      <div class="card-body card__filter" >
        <h5 class="card-title">Order by:</h5>
        <div class="btn-group">
          <%= link_to "Name", { sort_by_name: "name" }, class: green_btn %>
          <%= link_to "Date", { sort_by_name: "created_at" }, class: green_btn %>
        </div>
      </div>
    </div>

  </div>
  <div id="products">
    <%= render @products %>
  </div>
</div>

